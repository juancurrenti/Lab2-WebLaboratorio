// views/_paneles-flujo.pug

//- --- Flujo de Trabajo (5 pasos) ---
h4.section-title Flujo de Trabajo
.row.g-3.mb-4
  // 1 → Registrar/Buscar Paciente
  if rol === "recepcionista" || rol === "tecnico" || rol === "bioquimico" || rol === "admin"
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/buscar-paciente")
        i.fas.fa-user-plus.me-2
        | Registrar/Buscar

  // 2 → Generar Orden de Trabajo
  if rol === "recepcionista" || rol === "tecnico" || rol === "bioquimico"
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/orden/generacion-orden")
        i.fas.fa-file-alt.me-2
        | Generar Orden
  
  // → Buscar Orden de Trabajo
  if rol === "recepcionista" || rol === "tecnico" || rol === "bioquimico"
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/buscarOrdenes")
        i.fas.fa-search.me-2
        | Buscar Orden

  // 3 → Analizar / Registrar Resultados
  if rol === "bioquimico" || rol === "tecnico"
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/ordenesAnalitica")
        i.fas.fa-vials.me-2
        | Analizar Resultados

  // 4 → Validar Resultados
  if rol === "bioquimico"
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/pendientesAValidar")
        i.fas.fa-tasks.me-2
        | Validar Resultados

  // 5 → Ver Informadas
  if rol === "bioquimico" || rol === "tecnico"
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/ordenesInformadas")
        i.fas.fa-eye.me-2
        | Ver Informadas

//- --- Resto de secciones según rol ---
if rol === "bioquimico" || rol === "tecnico"
  h4.section-title Exámenes
  .row.g-3.mb-4
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/examen/crear-examen")
        i.fas.fa-notes-medical.me-2
        | Generar
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/modificar-examen/buscar-modificar-examen")
        i.fas.fa-pencil-alt.me-2
        | Actualizar
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/examen/listado-examenes")
        i.fas.fa-list-ul.me-2
        | Listado de Exámenes Disponibles

if rol === "bioquimico" || rol === "tecnico"
  h4.section-title Determinaciones
  .row.g-3.mb-4
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/determinacion/crear-determinacion")
        i.fas.fa-list.me-2
        | Administrar

if rol === "bioquimico" || rol === "tecnico"
  h4.section-title Valores Referencia
  .row.g-3.mb-4
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/valoresreferencia/crear-valores")
        i.fas.fa-balance-scale.me-2
        | Administrar

if rol === "admin"
  h4.section-title Administración
  .row.g-3.mb-4
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/admin/crear-usuario")
        i.fas.fa-user-plus.me-2
        | Crear Usuario
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/admin/actualizarUsuarioAdm")
        i.fas.fa-user-edit.me-2
        | Actualizar
    .col-md-3.col-sm-6
      a.btn.btn-dark.btn-lg.w-100(href="/admin/auditoria")
        i.fas.fa-book.me-2
        | Auditoría

//- Configuración siempre visible
.config-section.mt-5
  hr
  .row.g-3.justify-content-center
    .col-md-3.col-sm-6
      a.btn.btn-outline-dark.btn-lg.w-100(href="/cambiarContrasena")
        i.fas.fa-key.me-2
        | Contraseña
    .col-md-3.col-sm-6
      a#logoutLink.btn.btn-outline-danger.btn-lg.w-100(
        href="#",
        data-bs-toggle="modal",
        data-bs-target="#logoutModal"
      )
        i.fas.fa-sign-out-alt.me-2
        | Salir