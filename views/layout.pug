html



  head
    title Laboratorio La Punta
    

    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet")
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js")
    link(rel="icon" href="/public/img/icon.png" type="image/png")
    link(rel="stylesheet" href='/public/css/style.css')
    script(src='https://code.jquery.com/jquery-3.6.0.min.js')
    link(href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet")
    block head
    style.
      .navigation-arrows {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        gap: 15px;
      }
      .nav-arrow {
        color: white;
        font-size: 1.5rem;
        text-decoration: none;
        transition: opacity 0.3s ease;
      }
      .nav-arrow:hover {
        opacity: 0.7;
      }
      html{
        background-image: url('/public/img/fondo.png');
        background-size: 300px;
        background-repeat: repeat;
        background-attachment: fixed;
      }
      body {
        font-family: 'Roboto', sans-serif;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background-color: transparent;
      }
      .navbar {
        background-color: #343a40;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      .navbar-brand {
        color: white;
        font-size: 1.5rem;
        font-weight: bold;
        display: flex;
        align-items: center;
      }
      .navbar-brand img {
        width: 30px;
        height: 30px;
        margin-right: 10px;
      }
      .main-content {
        padding: 20px;
        flex: 1;
        margin-top: 90px; 
      }
      .section-title {
        color: #002D62;
        font-weight: 500;
        border-bottom: 2px solid #002D62;
        padding-bottom: 0.5rem;
        margin: 2rem 0 1.5rem;
      }

  body

    nav.navbar.navbar-dark.fixed-top(style="height: 90px") 
      .container-fluid
        .navigation-arrows
          a#back-button.nav-arrow(href="#")
            i.fas.fa-arrow-left
          a#forward-button.nav-arrow(href="#")
            i.fas.fa-arrow-right
        
        .mx-auto.text-white.text-center

          -
            let titulo = 'Laboratorio';
            const nombresRoles = { admin: 'Administración', bioquimico: 'Bioquímico', recepcionista: 'Recepción', tecnico: 'Técnico' };


            if (locals.pageTitle) {
              titulo = locals.pageTitle;
            } else if (rol) {
              titulo = `Área ${nombresRoles[rol] || rol}`;
            } else if (typeof paciente !== 'undefined' || (typeof user !== 'undefined' && user.esPaciente)) {
              titulo = 'Portal del Paciente';
            }
          h3.m-0= titulo
        

        - const homeUrl = rol ? `/${rol}` : '/redirigirUsuario'
        a.navbar-brand(href=homeUrl)
          img(src="/public/img/icon.png" alt="Logo")
          | Inicio 


    .main-content.container
      block content


    .modal.fade#logoutModal(tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true")
      .modal-dialog
        .modal-content
          .modal-header
            h5#logoutModalLabel.modal-title Confirmar Cierre de Sesión
            button.btn-close(type="button" data-bs-dismiss="modal" aria-label="Close")
          .modal-body
            p ¿Estás seguro de que deseas cerrar sesión?
          .modal-footer
            button.btn.btn-secondary(type="button" data-bs-dismiss="modal") Cancelar
            a.btn.btn-danger(href="/logout") Confirmar


    script.
      $(document).ready(function() {
        $('#back-button').on('click', function(e) {
          e.preventDefault();
          history.back();
        });

        $('#forward-button').on('click', function(e) {
          e.preventDefault();
          history.forward();
        });

        const paginaAnterior = document.referrer;
        if (paginaAnterior.includes('/login')) {
          $('#back-button').hide();
        } else {
          $('#back-button').show();
        }
      });
    